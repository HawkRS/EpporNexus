/*!
 * jQuery Raty FA - A Star Rating Plugin with Font Awesome
 *
 * Licensed under The MIT License
 *
 * @author  : Jacob Overgaard
 * @doc     : http://jacob87.github.io/raty-fa/
 * @version : 0.1.1
 *
 */(function(a){var e={init:function(t){return this.each(function(){e.destroy.call(this),this.opt=a.extend(!0,{},a.fn.raty.defaults,t);var r=a(this),s=["number","readOnly","score","scoreName"];e._callback.call(this,s),this.opt.precision&&e._adjustPrecision.call(this),this.opt.number=e._between(this.opt.number,0,this.opt.numberMax),this.stars=e._createStars.call(this),this.score=e._createScore.call(this),e._apply.call(this,this.opt.score),this.opt.cancel&&(this.cancel=e._createCancel.call(this)),this.opt.width&&r.css("width",this.opt.width),this.opt.readOnly?e._lock.call(this):(r.css("cursor","pointer"),e._binds.call(this)),e._target.call(this,this.opt.score),r.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(t){typeof t<"u"&&t>=0&&(t=e._between(t,0,this.opt.number),this.score.val(t)),e._fill.call(this,t),t&&e._roundStars.call(this,t)},_between:function(t,r,s){return Math.min(Math.max(parseFloat(t),r),s)},_binds:function(){this.cancel&&e._bindCancel.call(this),e._bindClick.call(this),e._bindOut.call(this),e._bindOver.call(this)},_bindCancel:function(){e._bindClickCancel.call(this),e._bindOutCancel.call(this),e._bindOverCancel.call(this)},_bindClick:function(){var t=this,r=a(t);t.stars.on("click.raty",function(s){t.score.val(t.opt.half||t.opt.precision?r.data("score"):a(this).data("score")),t.opt.click&&t.opt.click.call(t,parseFloat(t.score.val()),s)})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(r){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,r)})},_bindOut:function(){var t=this;a(this).on("mouseleave.raty",function(r){var s=parseFloat(t.score.val())||void 0;e._apply.call(t,s),e._target.call(t,s,r),t.opt.mouseout&&t.opt.mouseout.call(t,s,r)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(r){a(this).attr("class",t.opt.cancelOff),t.opt.mouseout&&t.opt.mouseout.call(t,t.score.val()||null,r)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(r){a(this).attr("class",t.opt.cancelOn),t.stars.attr("class",t.opt.starOff),e._target.call(t,null,r),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_bindOver:function(){var t=this,r=a(t),s=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(s,function(n){var f=parseInt(a(this).data("score"),10);if(t.opt.half){var i=parseFloat((n.pageX-a(this).offset().left)/(t.opt.size?t.opt.size:parseInt(r.css("font-size")))),l=i>.5?1:.5;f=f-1+l,e._fill.call(t,f),t.opt.precision&&(f=f-l+i),e._roundStars.call(t,f),r.data("score",f)}else e._fill.call(t,f);e._target.call(t,f,n),t.opt.mouseover&&t.opt.mouseover.call(t,f,n)})},_callback:function(t){for(var r in t)typeof this.opt[t[r]]=="function"&&(this.opt[t[r]]=this.opt[t[r]].call(this))},_createCancel:function(){var t=a(this),r=this.opt.cancelOff,s=a("<i />",{class:r,title:this.opt.cancelHint});return this.opt.cancelPlace=="left"?t.prepend("&#160;").prepend(s):t.append("&#160;").append(s),s},_createScore:function(){return a("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){for(var t=a(this),r=1;r<=this.opt.number;r++){var s=e._getHint.call(this,r),n=this.opt.score&&this.opt.score>=r?"starOn":"starOff";n=this.opt[n],a("<i />",{class:n,title:s,"data-score":r}).appendTo(this),this.opt.space&&t.append(r<this.opt.number?"&#160;":"")}return t.children("i")},_error:function(t){a(this).html(t),a.error(t)},_fill:function(t){for(var r=this,s=0,n=1;n<=r.stars.length;n++){var f=r.stars.eq(n-1),i=r.opt.single?n==t:n<=t;if(r.opt.iconRange&&r.opt.iconRange.length>s){var l=r.opt.iconRange[s],o=l.on||r.opt.starOn,h=l.off||r.opt.starOff,c=i?o:h;n<=l.range&&f.attr("class",c),n==l.range&&s++}else{var c=i?"starOn":"starOff";f.attr("class",this.opt[c])}}},_getHint:function(t){var r=this.opt.hints[t-1];return r===""?"":r||t},_lock:function(){var t=parseInt(this.score.val(),10),r=t?e._getHint.call(this,t):this.opt.noRatedMsg;a(this).data("readonly",!0).css("cursor","").attr("title",r),this.score.attr("readonly","readonly"),this.stars.attr("title",r),this.cancel&&this.cancel.hide()},_roundStars:function(t){var r=(t-Math.floor(t)).toFixed(2);if(r>this.opt.round.down){var s="starOn";this.opt.halfShow&&r<this.opt.round.up?s="starHalf":r<this.opt.round.full&&(s="starOff"),this.stars.eq(Math.ceil(t)-1).attr("class",this.opt[s])}},_target:function(t,r){if(this.opt.target){var s=a(this.opt.target);s.length===0&&e._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&e._error.call(this,'Template "{score}" missing!');var n=r&&r.type=="mouseover";t===void 0?t=this.opt.targetText:t===null?t=n?this.opt.cancelHint:this.opt.targetText:(this.opt.targetType=="hint"?t=e._getHint.call(this,Math.ceil(t)):this.opt.precision&&(t=parseFloat(t).toFixed(1)),!n&&!this.opt.targetKeep&&(t=this.opt.targetText)),t&&(t=this.opt.targetFormat.toString().replace("{score}",t)),s.is(":input")?s.val(t):s.html(t)}},_unlock:function(){a(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var t=0;t<this.opt.number;t++)this.stars.eq(t).attr("title",e._getHint.call(this,t+1));this.cancel&&this.cancel.css("display","")},cancel:function(t){return this.each(function(){a(this).data("readonly")!==!0&&(e[t?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(t){return a(this).each(function(){a(this).data("readonly")!==!0&&(e._apply.call(this,t),this.opt.click||e._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,t,a.Event("click")),e._target.call(this,t))})},destroy:function(){return a(this).each(function(){var t=a(this),r=t.data("raw");r?t.off(".raty").empty().css({cursor:r.style.cursor,width:r.style.width}).removeData("readonly"):t.data("raw",t.clone()[0])})},getScore:function(){var t=[],r;return a(this).each(function(){r=this.score.val(),t.push(r?parseFloat(r):void 0)}),t.length>1?t:t[0]},readOnly:function(t){return this.each(function(){var r=a(this);r.data("readonly")!==t&&(t?(r.off(".raty").children("i").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),r.data("readonly",t))})},reload:function(){return e.set.call(this,{})},score:function(){return arguments.length?e.setScore.apply(this,arguments):e.getScore.call(this)},set:function(t){return this.each(function(){var r=a(this),s=r.data("settings"),n=a.extend({},s,t);r.raty(n)})},setScore:function(t){return a(this).each(function(){a(this).data("readonly")!==!0&&(e._apply.call(this,t),e._target.call(this,t))})}};a.fn.raty=function(t){if(e[t])return e[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return e.init.apply(this,arguments);a.error("Method "+t+" does not exist!")},a.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"fa fa-fw fa-minus-square",cancelOn:"fa fa-fw fa-check-square",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:null,space:!0,starHalf:"fa fa-fw fa-star-half-o",starOff:"fa fa-fw fa-star-o",starOn:"fa fa-fw fa-star",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:!1}})(jQuery);(function(a){a(function(){a("#default").raty({starOff:"far fa-star",starOn:"fas fa-star text-warning"}),a("#score").raty({score:3,starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#score-callback").raty({score:function(){return a(this).attr("data-score")},starOff:"far fa-star",starOn:"fas fa-star"}),a("#scoreName").raty({scoreName:"entity[score]",starOff:"far fa-star",starOn:"fas fa-star text-warning"}),a("#number").raty({number:10,starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#number-callback").raty({number:function(){return a(this).attr("data-number")},starOff:"far fa-star",starOn:"fas fa-star"}),a("#numberMax").raty({numberMax:5,number:100,starOff:"far fa-star",starOn:"fas fa-star text-purple"}),a("#readOnly").raty({readOnly:!0,score:3,starOff:"far fa-star",starOn:"fas fa-star text-success"}),a("#readOnly-callback").raty({readOnly:function(){return!0},starOff:"far fa-star",starOn:"fas fa-star"}),a("#noRatedMsg").raty({readOnly:!0,noRatedMsg:"I'am readOnly and I haven't rated yet!",starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#halfShow-true").raty({score:3.26,starHalf:"fas fa-star-half-alt",starOff:"far fa-star",starOn:"fas fa-star"}),a("#halfShow-false").raty({halfShow:!1,score:3.26,starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#round").raty({round:{down:.26,full:.6,up:.76},score:3.26,starOff:"far fa-star",starOn:"fas fa-star text-pink"}),a("#half").raty({half:!0,starHalf:"fas fa-star-half-alt",starOff:"far fa-star",starOn:"fas fa-star"}),a("#starHalf").raty({half:!0,starHalf:"fas fa-star-half text-danger",starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#click").raty({click:function(e,t){alert("ID: "+a(this).attr("id")+`
score: `+e+`
event: `+t.type)},starOff:"far fa-star",starOn:"fas fa-star"}),a("#hints").raty({hints:["a",null,"",void 0,"*_*"],starOff:"far fa-star",starOn:"fas fa-star"}),a("#star-off-and-star-on").raty({starOff:"far fa-bell",starOn:"fas fa-bell text-primary"}),a("#cancel").raty({cancel:!0,starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#cancelHint").raty({cancel:!0,cancelHint:"My cancel hint!",starOff:"far fa-star",starOn:"fas fa-star text-success"}),a("#cancelPlace").raty({cancel:!0,cancelPlace:"right",starOff:"far fa-star",starOn:"fas fa-star text-purple"}),a("#cancel-off-and-cancel-on").raty({starOff:"far fa-star",starOn:"fas fa-star",cancel:!0,cancelOff:"far fa-minus-square",cancelOn:"fas fa-minus-square text-danger"}),a("#iconRange").raty({iconRange:[{range:1,on:"fas fa-cloud",off:"far fa-circle"},{range:2,on:"fas fa-cloud-download-alt",off:"far fa-circle"},{range:3,on:"fas fa-cloud-upload-alt",off:"far fa-circle"},{range:4,on:"fas fa-circle",off:"far fa-circle"},{range:5,on:"fas fa-cogs",off:"far fa-circle"}]}),a("#size-md").raty({starOff:"far fa-fw fa-star",starOn:"fas fa-fw fa-star",starHalf:"fas fa-star-half-alt",cancel:!0,half:!0}),a("#size-lg").raty({starOff:"far fa-fw fa-star",starOn:"fas fa-fw fa-star",starHalf:"fas fa-star-half-alt",cancel:!0,half:!0}),a("#target-div").raty({cancel:!0,target:"#target-div-hint",starOff:"far fa-star",starOn:"fas fa-star text-primary"}),a("#targetType").raty({cancel:!0,target:"#targetType-hint",targetType:"score",starOff:"far fa-star",starOn:"fas fa-star text-warning"}),a("#targetFormat").raty({target:"#targetFormat-hint",targetFormat:"Rating: {score}",starOff:"far fa-star",starOn:"fas fa-star text-danger"}),a("#mouseover").raty({starOff:"far fa-star",starOn:"fas fa-star",mouseover:function(e,t){alert("ID: "+a(this).attr("id")+`
score: `+e+`
event: `+t.type)}}),a("#mouseout").raty({width:150,starOff:"far fa-star",starOn:"fas fa-star",mouseout:function(e,t){alert("ID: "+a(this).attr("id")+`
score: `+e+`
event: `+t.type)}})})})(jQuery);
